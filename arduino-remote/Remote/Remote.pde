#include <IRremote.h>
#include <avr/pgmspace.h>
#include <SPI.h>
#include <Ethernet.h>
#include "Codes.h"

Server server(8000);
IRsend irsend;

byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };
byte ip[] = { 10, 1, 1, 45 };

int IRledPin = 3;

void setup() {
  pinMode(IRledPin, OUTPUT);      
  
  Serial.begin(9600);
  
  Ethernet.begin(mac, ip);
  server.begin();
  
}

void loop() {
  Client client = server.available();
  
  if (client) {
    
    boolean start_data = false;
    boolean next = false;

    char command[32];
    char value[32];
    int index = 0;
    
    while (client.connected()) {

      if (client.available()) {
        char c = client.read();
        Serial.print(c);
  
        if (c == '}') {
          break;
        }
        
        if(start_data == true) {
          
          if(c != ',') {
            
            if(next)
              value[index] = c;
            else
              command[index] = c;
            
            index++;
          } else {
            next = true;
            command[index] = '\0';
            index = 0;
          }
            
        }
        
        if (c == '{') {
          start_data = true;
        }

      }
      
    }
    
    value[index] = '\0';
    
    client.flush();
    client.stop();
    
    sendCommand(command,value);
  }

}

// This procedure sends a 38KHz pulse to the IRledPin 
// for a certain # of microseconds. We'll use this whenever we need to send codes
void pulseIR(long microsecs) {
  // we'll count down from the number of microseconds we are told to wait
 
  cli();  // this turns off any background interrupts
 
  while (microsecs > 0) {
    // 38 kHz is about 13 microseconds high and 13 microseconds low
   digitalWrite(IRledPin, HIGH);  // this takes about 3 microseconds to happen
   delayMicroseconds(10);         // hang out for 10 microseconds
   digitalWrite(IRledPin, LOW);   // this also takes about 3 microseconds
   delayMicroseconds(10);         // hang out for 10 microseconds
 
   // so 26 microseconds altogether
   microsecs -= 26;
  }
 
  sei();  // this turns them back on
}

void channel(char* numbers) {
  
  int i = 0;
  
  for(i = 0; i < 2; i++) {
   
    if(numbers[i] == '0') {
      tv_channel_0();
      delay(100);
    } else if(numbers[i] == '1') {
      tv_channel_1();
      delay(100);
    } else if(numbers[i] == '2') {
      tv_channel_2();
      delay(100);
    } else if(numbers[i] == '3') {
      tv_channel_3();
      delay(100);
    } else if(numbers[i] == '4') {
      tv_channel_4();
      delay(100);
    } else if(numbers[i] == '5') {
      tv_channel_5();
      delay(100);
    } else if(numbers[i] == '6') {
      tv_channel_6();
      delay(100);
    } else if(numbers[i] == '7') {
      tv_channel_7();
      delay(100);
    } else if(numbers[i] == '8') {
      tv_channel_8();
      delay(100);
    } else if(numbers[i] == '9') {
      tv_channel_9();
      delay(100);
    }
    
  }
  
}

void volume(char *command, char* value) {

  for (int i = 0; i < atoi(value); i++) {
    if (strcmp(command, "volumeup") == 0) {
      amp_volume_up();
      tv_volume_up();
    } else if (strcmp(command, "volumedown") == 0) {
      amp_volume_down();
      tv_volume_down();
    }
    delay(300);
  }
    
}

void power(char* device) {
 
  if(strcmp(device, "tv") == 0) {
    tv_power_onoff();
  } else if (strcmp(device, "amp") == 0 || strcmp(device, "amplifier") == 0) {
    amp_power_onoff();
  } else if (strcmp(device, "air-conditioner") == 0 || strcmp(device, "air-con") == 0 || strcmp(device, "aircon") == 0) {
    aircon_power_onoff();
  }
  
}

void source(char* source) {

  if(strcmp(source,"ps3") == 0) {
    ps3_source();
  } else if(strcmp(source,"nintendo") == 0) {
    nintendo_source();
  } else if(strcmp(source,"xbox") == 0) {
    xbox_source();
  } else if(strcmp(source,"mute") == 0) {
    tv_mute();
  }
  
}

void sendCommand(char *command, char *value) {

  if(strcmp(command,"power") == 0)
    power(value);
  else if(strcmp(command,"source") == 0)
    source(value);
  else if(strcmp(command,"channel") == 0)
    channel(value);
  else if(strcmp(command, "volumeup") == 0 || strcmp(command, "volumedown") == 0)
    volume(command, value);
  else if (strcmp(command, "info") == 0)
    show_hide_info();
  else if (strcmp(command, "input") == 0)
    tv_input();
}

unsigned int* get(prog_uint16_t code[]) {

  unsigned int arr[72];
  unsigned int c;
  int index = 0;
  
  while((c = pgm_read_word(code++))) {
    arr[index] = c;
    index++;
  }
  
  return arr;

}

void show_hide_info() {
  delayMicroseconds(4216);
  pulseIR(8900);
  delayMicroseconds(4380);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(480);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(600);
  delayMicroseconds(480);
  pulseIR(600);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(39300);
  pulseIR(8860);
  delayMicroseconds(2160);
  pulseIR(580);
}

void amp_power_onoff() {
  delayMicroseconds(50412);
  pulseIR(2440);
  delayMicroseconds(540);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(21680);
  pulseIR(2360);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(21720);
  pulseIR(2360);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(21740);
  pulseIR(2400);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(21700);
  pulseIR(2380);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);  
}

void tv_power_onoff() {
  trigger_emberplug();
  
  delay(3000);
  
  delayMicroseconds(30656);
  pulseIR(8880);
  delayMicroseconds(4400);
  pulseIR(560);
  delayMicroseconds(520);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1640);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1640);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(520);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(560);
  pulseIR(540);
  delayMicroseconds(1640);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1640);
  pulseIR(560);
  delayMicroseconds(39300);
  pulseIR(8820);
  delayMicroseconds(2200);
  pulseIR(560);
  delayMicroseconds(28744);
  pulseIR(8840);
  delayMicroseconds(2200);
  pulseIR(540);
}

void ps3_source() {
  delayMicroseconds(51996);
  pulseIR(2440);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(21200);
  pulseIR(2360);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(21140);
  pulseIR(2360);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
}

void nintendo_source() {
  delayMicroseconds(24048);
  pulseIR(2440);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(22300);
  pulseIR(2380);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(22320);
  pulseIR(2360);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
}

void xbox_source() {
  delayMicroseconds(29780);
  pulseIR(2440);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(21840);
  pulseIR(2360);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(21740);
  pulseIR(2360);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(21740);
  pulseIR(2380);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(600);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
}

void amp_volume_up() {
  delayMicroseconds(520);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(22280);
  pulseIR(2380);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(520);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(22300);
  pulseIR(2380);
  delayMicroseconds(520);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(22320);
  pulseIR(2400);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
}

void amp_volume_down() {
  delayMicroseconds(520);
  pulseIR(1240);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(21640);
  pulseIR(2380);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(520);
  pulseIR(1240);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(520);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(21700);
  pulseIR(2380);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(520);
  pulseIR(1240);
  delayMicroseconds(520);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(21720);
  pulseIR(2400);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
}

void aircon_power_onoff() {
  delayMicroseconds(1700);
  pulseIR(420);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(1260);
  pulseIR(440);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(440);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(400);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(440);
  delayMicroseconds(1260);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(1260);
  pulseIR(420);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(440);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(400);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(400);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(400);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(440);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(400);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(1280);
  pulseIR(420);
  delayMicroseconds(420);
  pulseIR(440);
  delayMicroseconds(1260);
  pulseIR(440);
  delayMicroseconds(420);
  pulseIR(420);
  delayMicroseconds(440);
  pulseIR(420);
}

void tv_channel_0() {
        delayMicroseconds(65056);
        pulseIR(8880);
  delayMicroseconds(4400);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(39320);
	pulseIR(8820);
	delayMicroseconds(2220);
	pulseIR(540);
}

void tv_channel_1() {
  delayMicroseconds(5416);
  pulseIR(8880);
	delayMicroseconds(4400);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(560);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(540);
	delayMicroseconds(39340);
	pulseIR(8820);
	delayMicroseconds(2200);
	pulseIR(540);
}

void tv_channel_2() {
delayMicroseconds(32480);
pulseIR(8880);
	delayMicroseconds(4420);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(560);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(39320);
	pulseIR(8820);
	delayMicroseconds(2200);
	pulseIR(540);
	delayMicroseconds(5624);
	pulseIR(40);
}

void tv_channel_3() {
  delayMicroseconds(49432);
  pulseIR(8880);
	delayMicroseconds(4420);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(560);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(39320);
	pulseIR(8820);
	delayMicroseconds(2200);
	pulseIR(560);
}

void tv_channel_4() {
delayMicroseconds(63768);
pulseIR(8880);
	delayMicroseconds(4400);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(560);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(560);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(39340);
	pulseIR(8800);
	delayMicroseconds(2220);
	pulseIR(540);
}

void tv_channel_5() {
delayMicroseconds(20492);
pulseIR(8880);
	delayMicroseconds(4400);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(560);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(39320);
	pulseIR(8820);
	delayMicroseconds(2200);
	pulseIR(560);
}

void tv_channel_6() {
delayMicroseconds(10152);
pulseIR(8860);
	delayMicroseconds(4420);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(560);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(39320);
	pulseIR(8820);
	delayMicroseconds(2200);
	pulseIR(560);
}

void tv_channel_7() {
delayMicroseconds(23296);
pulseIR(8880);
	delayMicroseconds(4420);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(39320);
	pulseIR(8820);
	delayMicroseconds(2200);
	pulseIR(540);
}

void tv_channel_8() {
delayMicroseconds(29884);
pulseIR(8880);
	delayMicroseconds(4420);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1680);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(39320);
	pulseIR(8800);
	delayMicroseconds(2220);
	pulseIR(540);
}

void tv_channel_9() {
  delayMicroseconds(56928);
  pulseIR(8860);
	delayMicroseconds(4420);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(560);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(560);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(520);
	pulseIR(560);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(540);
	pulseIR(560);
	delayMicroseconds(540);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(540);
	delayMicroseconds(1660);
	pulseIR(560);
	delayMicroseconds(1640);
	pulseIR(560);
	delayMicroseconds(39320);
	pulseIR(8820);
	delayMicroseconds(2200);
	pulseIR(540);
}

void tv_volume_up() {
  delayMicroseconds(37324);
  pulseIR(8860);
  delayMicroseconds(4420);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(1640);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(520);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(560);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1640);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(39320);
  pulseIR(8820);
  delayMicroseconds(2200);
  pulseIR(560);
}

void tv_volume_down() {
  delayMicroseconds(19608);
  pulseIR(8860);
  delayMicroseconds(4420);
  pulseIR(540);
  delayMicroseconds(560);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(560);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1640);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1640);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(520);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1640);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(39320);
  pulseIR(8820);
  delayMicroseconds(2200);
  pulseIR(560);
}

void tv_mute() {
  delayMicroseconds(50088);
  pulseIR(8860);
  delayMicroseconds(4420);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(560);
  pulseIR(520);
  delayMicroseconds(560);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(560);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(560);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(560);
  pulseIR(540);
  delayMicroseconds(540);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1680);
  pulseIR(520);
  delayMicroseconds(560);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(1660);
  pulseIR(560);
  delayMicroseconds(1660);
  pulseIR(540);
  delayMicroseconds(39320);
  pulseIR(8820);
  delayMicroseconds(2200);
  pulseIR(540);
}

// The following remote code is used
// to trigger the EmberPlug(tm) power saving device.
void trigger_emberplug() {
  delayMicroseconds(16756);
  pulseIR(2440);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1240);
  delayMicroseconds(520);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(24780);
  pulseIR(2380);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(24660);
  pulseIR(2380);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(560);
  pulseIR(1200);
  delayMicroseconds(540);
  pulseIR(1240);
  delayMicroseconds(520);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(24680);
  pulseIR(2400);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(1240);
  delayMicroseconds(520);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(1220);
  delayMicroseconds(540);
  pulseIR(640);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(560);
  pulseIR(1220);
  delayMicroseconds(520);
  pulseIR(1240);
  delayMicroseconds(520);
  pulseIR(1240);
  delayMicroseconds(540);
  pulseIR(620);
  delayMicroseconds(540);
  pulseIR(640);  
}

void tv_input() {
  delayMicroseconds(7844);
  pulseIR(8920);
  delayMicroseconds(4360);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(480);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(480);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(600);
  delayMicroseconds(480);
  pulseIR(600);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(1620);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(480);
  pulseIR(600);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(480);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(500);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(500);
  pulseIR(580);
  delayMicroseconds(1620);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(1600);
  pulseIR(600);
  delayMicroseconds(1620);
  pulseIR(580);
  delayMicroseconds(39280);
  pulseIR(8880);
  delayMicroseconds(2160);
  pulseIR(580);
}